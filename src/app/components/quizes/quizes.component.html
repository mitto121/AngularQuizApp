<div class="row">
  <div class="col-md-6">
    <h3>List of quizes</h3>
  </div>
</div>
<hr>
<div class="row">
  <div class="col-md-offset-6 col-md-3">
    <input type="text" class="form-control" id="filterValue" placeholder="Search" [ngModel]='filterValue' (ngModelChange)='filterValue=$event'
    />
  </div>

  <div class="col-md-3">
    <button class="btn btn-primary" routerLink='/addNewQuiz'>Add Quiz</button>
    <button class="btn btn-primary" (click)="setQuestionPaper();" >View Questions</button>
  </div>
</div>
<hr/>

<div class="table-responsive">
  <table class="table table-striped table-bordered">
    <thead class="bodyHead">
      <tr>
        <th>  </th>
        <th width="21%"> Quiz Name </th>
        <th width="70%"> Description </th>       
        <th colspan="2"></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor='let quiz of quizes|quizFilter:filterValue' [ngStyle]="{'display':quiz.isActive?'':'none'}" >
        <th >
          <input type="checkbox" [checked]="selectedQuizId==quiz.id" (change)="selectedQuizId=quiz.id">
        </th>
        <td>
        <span>{{quiz.name}}</span>
        </td>
        <td>
           <span *ngIf="!(quiz.actionMode=='EDIT')"> {{quiz.description }}</span>
           <textarea  *ngIf="(quiz.actionMode=='EDIT')" class="form-control" placeholder="Enter description" col="50" row="45" [(ngModel)]='quiz.description'></textarea>     
        </td>     
        <td>
          <p data-placement="top" data-toggle="tooltip" title="Edit">
            <button *ngIf="!(quiz.actionMode=='EDIT')" class="btn btn-primary btn-xs" data-title="Edit" data-toggle="modal" (click)="editQuiz(quiz.id)">
              <span class="glyphicon glyphicon-pencil"></span>
            </button>
            <button *ngIf="(quiz.actionMode=='EDIT')" class="btn btn-primary" (click)='onUpdateQuiz(quiz);' >Update</button>
          </p>
        </td>
        <td>
          <p data-placement="top" data-toggle="tooltip" title="Delete">
            <button *ngIf="!(quiz.actionMode=='EDIT')" class="btn btn-danger btn-xs" data-title="Delete" data-toggle="modal" (click)="removeQuiz(quiz.id)">
              <span class="glyphicon glyphicon-trash"></span>
            </button>
            <button *ngIf="(quiz.actionMode=='EDIT')" class="btn btn-primary" (click)="cancelUpdateQuiz(quiz.id)">Cancel</button>            
          </p>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':showModal?'inline':'none'}" >
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button"  class="close" aria-hidden="true"  data-dismiss="modal" (click)="closeModal();">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">Alert !!</h4>
      </div>
      <div class="modal-body">
       <span>please select a ckeckbox before proceed</span>
      </div>      
    </div>
  </div>
</div>

